---
import { Image } from "astro:assets";
import freewayImage from "../images/freeway.webp";
import moviesandshowsImage from "../images/moviesandshows.webp";
import ExternalLink from "../icons/ExternalLink.astro";
import GitHub from "../icons/GitHub.astro";
import Section from "../ui/Section.astro";

const PROJECTS = [
  {
    title: "Movies & Shows",
    description:
      "Explore detailed info on movies and TV shows, including cast, trailers, images and recommendations.",
    link: "https://moviesandshows.vercel.app/",
    github: "https://github.com/RaulHinojosa24/movies-and-shows",
    technologies: [
      "React",
      "React Router",
      "Context API",
      "Hooks",
      "Tailwind CSS",
      "Fetch API",
    ],
    image: moviesandshowsImage,
  },
  {
    title: "Movies & Shows - Backend",
    description:
      "Designed to secure the TMDB API token and provide well-defined API endpoints.",
    link: "",
    github: "https://github.com/RaulHinojosa24/movies-and-shows-backend",
    technologies: ["Node.js", "Express", "Axios", "TMDB APIs"],
    image: "",
  },
  {
    title: "FreeWay - Travel planner",
    description:
      "Travel planning app, developed by my partners and me as the final project of a bootcamp, covering both front-end and back-end.",
    link: "",
    github: "https://github.com/PlanificacionViaje",
    technologies: ["Vue.js", "Spring Boot", "Axios"],
    image: freewayImage,
  },
];
---

<Section title="Projects" prev="#about" id="projects">
  <ul class="flex flex-col gap-12">
    {
      PROJECTS.map(
        ({ title, description, link, github, technologies, image }) => (
          <li class="flex flex-col gap-4">
            <div class="space-y-2">
              {!link && <h4 class="font-semibold">{title}</h4>}
              {link && (
                <a target="_blank" href={link}>
                  <h4 class="flex gap-2 items-center font-semibold w-fit text-inherit">
                    {title}
                    {link && <ExternalLink />}
                  </h4>
                </a>
              )}
              <p class="leading-snug">{description}</p>
              <ul class="flex gap-2 flex-wrap">
                {technologies.map((tech) => (
                  <li class="rounded-full bg-accent/10 text-sm text-accent px-3 py-1">
                    {tech}
                  </li>
                ))}
              </ul>
              {github && (
                <a
                  href={github}
                  target="_blank"
                  class="flex items-center gap-1 border-b-[1px] transition-all w-fit font-semibold pr-2 hover:pr-4 text-sm"
                >
                  <GitHub classes="w-[1em]" /> GitHub repository
                </a>
              )}
            </div>
            {image && (
              <Image
                src={image as ImageMetadata}
                alt="App screenshot"
                class="aspect-video w-48 object-cover rounded-md border-2 dark:border-accent/30 border-slate-800/50"
              />
            )}
          </li>
        ),
      )
    }
  </ul>
</Section>
